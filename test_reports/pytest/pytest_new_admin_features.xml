<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="2" skipped="0" tests="26" time="5.486" timestamp="2026-02-15T09:50:02.671391+00:00" hostname="agent-env-c82e70d2-fc92-46a0-926a-995a64e7e191"><testcase classname="backend.tests.test_admin_new_features.TestAdminAnalytics" name="test_admin_analytics_returns_all_fields" time="0.594" /><testcase classname="backend.tests.test_admin_new_features.TestAdminAnalytics" name="test_analytics_requires_auth" time="0.108" /><testcase classname="backend.tests.test_admin_new_features.TestChatAnalytics" name="test_chat_analytics_returns_expected_fields" time="0.198"><failure message="AssertionError: assert 'total_chats' in {'average_messages_per_user': 3.71, 'messages_by_day': [{'count': 0, 'date': '2026-02-02'}, {'count': 0, 'date': '2026-02-03'}, {'count': 0, 'date': '2026-02-04'}, {'count': 0, 'date': '2026-02-05'}, {'count': 0, 'date': '2026-02-06'}, {'count': 0, 'date': '2026-02-07'}, ...], 'messages_by_hour': [{'count': 6, 'hour': '09:00'}, {'count': 0, 'hour': '10:00'}, {'count': 0, 'hour': '11:00'}, {'count': 0, 'hour': '12:00'}, {'count': 0, 'hour': '13:00'}, {'count': 0, 'hour': '14:00'}, ...], 'most_active_users': [{'_id': '496f5ae5-36d1-46de-86dd-a59e9ee87bd2', 'email': 'speterjnr01@gmail.com', 'message_count': 39, 'username': 'peter'}, {'_id': 'delay', 'email': 'Unknown', 'message_count': 4, 'username': 'Unknown'}, {'_id': '89e4e973-6cae-4cf1-b8eb-1956b4f98c82', 'email': 'dropdown_test@example.com', 'message_count': 4, 'username': 'DropdownTester'}, {'_id': '89881fee-24c1-455f-bb78-ad31af718d43', 'email': 'flirty_test_1771122431@example.com', 'message_count': 3, 'username': 'FlirtyTester'}, {'_id': '2e15f329-5de4-49b3-af67-b0836af6bf14', 'email': 'playwright_chat_249cd4f9@example.com', 'message_count': 2, 'username': 'ChatTester'}, {'_id': '1fd8ffb0-ee0c-4a93-aeb5-53a6d99cd2e7', 'email': 'test_072740@example.com', 'message_count': 2, 'username': 'testuser_072740'}, ...], ...}">backend/tests/test_admin_new_features.py:89: in test_chat_analytics_returns_expected_fields
    assert "total_chats" in data
E   AssertionError: assert 'total_chats' in {'average_messages_per_user': 3.71, 'messages_by_day': [{'count': 0, 'date': '2026-02-02'}, {'count': 0, 'date': '2026-02-03'}, {'count': 0, 'date': '2026-02-04'}, {'count': 0, 'date': '2026-02-05'}, {'count': 0, 'date': '2026-02-06'}, {'count': 0, 'date': '2026-02-07'}, ...], 'messages_by_hour': [{'count': 6, 'hour': '09:00'}, {'count': 0, 'hour': '10:00'}, {'count': 0, 'hour': '11:00'}, {'count': 0, 'hour': '12:00'}, {'count': 0, 'hour': '13:00'}, {'count': 0, 'hour': '14:00'}, ...], 'most_active_users': [{'_id': '496f5ae5-36d1-46de-86dd-a59e9ee87bd2', 'email': 'speterjnr01@gmail.com', 'message_count': 39, 'username': 'peter'}, {'_id': 'delay', 'email': 'Unknown', 'message_count': 4, 'username': 'Unknown'}, {'_id': '89e4e973-6cae-4cf1-b8eb-1956b4f98c82', 'email': 'dropdown_test@example.com', 'message_count': 4, 'username': 'DropdownTester'}, {'_id': '89881fee-24c1-455f-bb78-ad31af718d43', 'email': 'flirty_test_1771122431@example.com', 'message_count': 3, 'username': 'FlirtyTester'}, {'_id': '2e15f329-5de4-49b3-af67-b0836af6bf14', 'email': 'playwright_chat_249cd4f9@example.com', 'message_count': 2, 'username': 'ChatTester'}, {'_id': '1fd8ffb0-ee0c-4a93-aeb5-53a6d99cd2e7', 'email': 'test_072740@example.com', 'message_count': 2, 'username': 'testuser_072740'}, ...], ...}</failure></testcase><testcase classname="backend.tests.test_admin_new_features.TestChatAnalytics" name="test_chat_analytics_requires_auth" time="0.109" /><testcase classname="backend.tests.test_admin_new_features.TestModerationTab" name="test_get_all_chats_for_moderation" time="0.139" /><testcase classname="backend.tests.test_admin_new_features.TestModerationTab" name="test_get_chat_messages" time="0.200" /><testcase classname="backend.tests.test_admin_new_features.TestModerationTab" name="test_moderation_requires_auth" time="0.101" /><testcase classname="backend.tests.test_admin_new_features.TestAnnouncements" name="test_create_announcement" time="0.104" /><testcase classname="backend.tests.test_admin_new_features.TestAnnouncements" name="test_get_all_announcements" time="0.101" /><testcase classname="backend.tests.test_admin_new_features.TestAnnouncements" name="test_update_announcement" time="0.194"><failure message="KeyError: 'announcement'">backend/tests/test_admin_new_features.py:225: in test_update_announcement
    assert data["announcement"]["title"] == update_data["title"]
           ^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'announcement'</failure></testcase><testcase classname="backend.tests.test_admin_new_features.TestAnnouncements" name="test_delete_announcement" time="0.377" /><testcase classname="backend.tests.test_admin_new_features.TestAnnouncements" name="test_get_active_announcements_public" time="0.097" /><testcase classname="backend.tests.test_admin_new_features.TestNotifications" name="test_send_notification_to_user" time="0.107" /><testcase classname="backend.tests.test_admin_new_features.TestNotifications" name="test_send_broadcast_notification" time="0.095" /><testcase classname="backend.tests.test_admin_new_features.TestNotifications" name="test_get_admin_notifications_list" time="0.110" /><testcase classname="backend.tests.test_admin_new_features.TestRevenueDashboard" name="test_revenue_analytics_returns_mocked_data" time="0.103" /><testcase classname="backend.tests.test_admin_new_features.TestRevenueDashboard" name="test_revenue_requires_auth" time="0.315" /><testcase classname="backend.tests.test_admin_new_features.TestAdminsManagement" name="test_get_all_admins" time="0.106" /><testcase classname="backend.tests.test_admin_new_features.TestAdminsManagement" name="test_create_new_admin" time="0.470" /><testcase classname="backend.tests.test_admin_new_features.TestAdminsManagement" name="test_delete_admin" time="0.533" /><testcase classname="backend.tests.test_admin_new_features.TestActivityLogs" name="test_get_activity_logs" time="0.102" /><testcase classname="backend.tests.test_admin_new_features.TestActivityLogs" name="test_get_activity_logs_summary" time="0.103" /><testcase classname="backend.tests.test_admin_new_features.TestActivityLogs" name="test_activity_logs_require_auth" time="0.101" /><testcase classname="backend.tests.test_admin_new_features.TestCharacterEdit" name="test_get_all_characters_admin" time="0.151" /><testcase classname="backend.tests.test_admin_new_features.TestCharacterEdit" name="test_update_character" time="0.378" /><testcase classname="backend.tests.test_admin_new_features.TestCleanup" name="test_cleanup_test_announcements" time="0.370" /></testsuite></testsuites>